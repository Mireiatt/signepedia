<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>
        Signepèdia - Col·laborar
    </title>
    <link rel="stylesheet" type="text/css" href="/css/style.css">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:300' rel='stylesheet' type='text/css'>
  </head>
  <body>
    <div class="container">
      <% if(missatge == "exit") { %>
        <p>Hem rebut el teu vídeo.<br>Moltes gràcies per col·laborar!</p>
        <form action="/pujar_video" method="get">
          <input type="submit" class = "ghost-button" value="Afegeix un altre signe">
        </form>
        <form action="/" method="get">
          <input type="submit" class = "ghost-button" value="Torna a la Signepèdia">
        </form>
      <% } else if (missatge == "fail") { %>
        <p>Ho sentim.<br>Per un problema en el servidor no s'ha pogut enviar el teu vídeo.</p>
        <form action="/pujar_video" method="get">
          <input type="submit" class = "ghost-button" value="Torna-ho a intentar">
        </form>
        <form action="/" method="get">
          <input type="submit" class = "ghost-button" value="Torna a la Signepèdia">
        </form>
      <% } else if (missatge == "inhabilitat") { %>
        <p>Ho sentim.<br>El servei de enviament de vídeos està temporalment deshabilitat.</p>
        <form action="/" method="get">
          <input type="submit" class = "ghost-button" value="Torna a la Signepèdia">
        </form>
      <% } else { %>
        <p style="padding:10px">Col·labora afegint un nou vídeo</p>
        <fieldset>
          <form action="/pujar_video" method="post" encType="multipart/form-data" onsubmit="return desactiva(this);" style="font-size:15px">
            <input name="autor" autocomplete="name" type="text" class="ghost-input" placeholder="Autoria (es mostrarà sota el vídeo)" style="width:300px;font-size:17px;padding:5px" required>
            <input name="email" autocomplete="email" type="text" class="ghost-input" placeholder="E-mail de contacte" style="width:300px;font-size:17px;padding:5px" required>
            <input name="paraula" type="text" class="ghost-input" placeholder="Paraula a afegir" style="width:300px;font-size:17px;padding:5px" required>
            <input name="comentari" type="text" class="ghost-input" placeholder="Comentaris" style="width:300px;font-size:17px;padding:5px">
            <input name="video" type="file" required><br>
            <input name="edat" type="checkbox" required> Confirmo que sóc l'autor del vídeo, l'únic que hi surt i major d'edat.<br>
            <input name="llicencia" type="checkbox" required> Accepto que el vídeo adjunt passi a tenir llicència <a href="https://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a><br>
            <input name="termes" type="checkbox" required> He llegit i accepto les <a href="/termes" target="_blank">Condicions d'ús.</a> i la <a href="/privadesa" target="_blank">Política de Privadesa</a><br>
            <input name="envia" type="submit" class="ghost-button" value="Envia'ns el vídeo">
          </form>
          <script type="text/javascript">
            function desactiva(form) {
              if (form.autor.value === "" || form.email.value === "" || form.paraula.value === "" || form.video.value === "" || !form.edat.checked || !form.llicencia.checked || !form.termes.checked) {
                return false;
              }
              form.envia.disabled = true;
              form.envia.value = "Enviant...";
              return true;
            }
          </script>
        </fieldset>
      <% } %>
    </div>
    <div class="footer">
      Aquesta pàgina està disponible sota <a href="https://creativecommons.org/licenses/by-sa/4.0/">llicència Creative Commons Atribució - Compartir Igual</a>
      ·
      <a href="/termes" target="_blank">Condicions d'ús.</a>
      ·
      <a href="/privadesa" target="_blank">Política de Privadesa</a>
      ·
      Utilitzem les APIs de
      <a href="https://languagetool.org/">LanguageTool</a>
      i
      <a href="https://openthesaurus.softcatala.org/">OpenThesaurus-ca</a>
    </div>
  </body>
</html>
